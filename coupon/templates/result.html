<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>还款计划结果</title>
    <!-- 引入 Echarts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
</head>
<body>
    <h1>还款计划</h1>
    <table border="1">
        <tr>
            <th>日期</th>
            <th>还款金额</th>
            <th>本金还款</th>
            <th>利息还款</th>
            <th>剩余本金</th>
        </tr>
        {% for repayment in repayments %}
        <tr>
            <td>{{ repayment.date }}</td>
            <td>{{ repayment.repayment_amount }}</td>
            <td>{{ repayment.principal_payment }}</td>
            <td>{{ repayment.interest_payment }}</td>
            <td>{{ repayment.remaining_balance }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>还款计划图表</h2>
    <div id="chart" style="width: 100%; height: 400px;"></div>
    
    <script>
        var chart = echarts.init(document.getElementById('chart'));
        var option = {{ chart_html | safe }};
        chart.setOption(option);
    </script>

    <a href="/">返回</a>
</body>
</html>